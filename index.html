<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@500&family=Kosugi+Maru&family=Noto+Serif+JP&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="vendor/OwlCarousel2-2.3.4/assets/owl.carousel.css">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <section class="loading" v-if="loading">
            載入中....
        </section>
        <section v-else>
            <!-- Navbar -->
            <div class="navbar">
                <div class="logo">
                    <img src="images/水月.png" alt="">
                </div>
                <ul>
                    <a href="#news">
                        <li>最新消息</li>
                    </a>
                    <a href="#material">
                        <li>釀造來源</li>
                    </a>
                    <a href="#moon">
                        <li>經典水月</li>
                    </a>
                    <a href="#product">
                        <li>產品介紹</li>
                    </a>
                    <a href="#shop">
                        <li>尋找水月</li>
                    </a>
                </ul>
                <div class="hamburger">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div class="warn_bg">
                <div class="warn">
                    <div class="warn_content">
                        <p>本網站只做為個人作品集使用</p>
                        <p>圖片及產品來自啤酒頭官網</p>
                        <p>台灣合法飲酒年齡為18歲</p>
                        <p>請確認您是否已年滿18歲</p>
                        <div class="warn_btn">            
                            <button id="yes"  @click="warn">是</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Hero -->
            <div class="hero">
                <img src="images/水月.png" alt="">
                <div class="hero_container">
                    <p>在山湖交融的日月，擁有甘美柔順之水</p>
                    <p>幻化成為啤酒的動人靈魂</p>
                    <p>在經過數個夜的精心釀製</p>
                    <p>成就非凡的水月啤酒</p>
                </div>
            </div>
            <!-- News -->
            <div class="page" id="news">
                <div class="circle circle1">
                    <div class="inside circle"></div>
                </div>
                <div class="circle circle2">
                    <div class="inside circle"></div>
                </div>
                <div class="circle circle3">
                    <div class="inside circle"></div>
                </div>
                <div class="circle circle4">
                    <div class="inside circle"></div>
                </div>
    
                <div class="container">
                    <div class="page_title">
                        <hr>
                        <div class="title_box">
                            <h1 class="title">最新消息</h1>
                            <h3 class="subtitle">Recently News</h3>
                        </div>
                    </div>
                    <div class="owl-carousel owl-theme">
                        <!-- Card1 -->
                        <div class="item row new_card" v-for="item in news">
                            <img :src="item.img" class="new_img">
                            
                            <div class="new_content">
                                <div class="news_title">
                                    <h2>{{item.title}}</h2>
                                </div>
                                <p class="news_subtitle">{{item.subtitle}}</p>
                                <div class="paragraph">
                                    <p>{{item.info}}</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
    
                </div>
            </div>

            <!-- Material -->
            <div class="page" id="material">
                <div class="container">
                    <div class="page_title">
                        <hr>
                        <div class="title_box">
                            <h1 class="title">釀造來源</h1>
                            <h3 class="subtitle">Raw Material</h3>
                        </div>
                    </div>
                    <div class="row material_container">
                        <div class="col-lg-6 material_picture">
                            <div class="picture" style="background-image: url(images/大麥.jpg);"></div>
                            <div class="picture picture2" style="background-image: url(images/hops_freepik.jpg);"></div>
                            <h2 class="word1"><span id="sword">Whe</span>at Malt</h2>
                            <h2 class="word2">Hops</h2>

                        </div>
                        <div class="col-lg-6 material_content">
                            <h2>啤酒的靈魂</h2>
                            <p>啤酒的三大材料:麥芽、啤酒花、水 <br />
                                選用來自「台灣大麥之鄉」—台中大雅的小麥 <br />
                                搭配各國的啤酒花，增添不同風味 <br />
                                萃取來自日月潭的山泉水 <br />
                                與台灣農友合作，獲取新鮮在地水果
                            </p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Moon -->
            <div class="page" id="moon">
                <img src="images/moon/滿月_亮.png" alt="" class="bg_moon">
                <div class="container">
                    <div class="page_title">
                        <hr>
                        <div class="title_box">
                            <h1 class="title">經典水月</h1>
                            <h3 class="subtitle">Classic Product</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="btn_group">
                            <div class="moon_btn active" id="moon_btn1" @click="changeMoonIndex(0)">
                                <div class="moon_pic moon_pic1 active"></div>
                                <p>眉月</p>
                            </div>
                            <div class="moon_btn " id="moon_btn2" @click="changeMoonIndex(1)">
                                <div class="moon_pic moon_pic2"></div>
                                <p>上弦月</p>
                            </div>
                            <div class="moon_btn" id="moon_btn3" @click="changeMoonIndex(2)">
                                <div class="moon_pic moon_pic3"></div>
                                <p>盈凸月</p>
                            </div>
                            <div class="moon_btn" id="moon_btn4" @click="changeMoonIndex(3)">
                                <div class="moon_pic moon_pic4"></div>
                                <p>滿月</p>
                            </div>
                            <div class="moon_btn" id="moon_btn5" @click="changeMoonIndex(4)">
                                <div class="moon_pic moon_pic5"></div>
                                <p>殘月</p>
                            </div>
                        </div>
                        <div class="classic_container" v-if="moonProduct">
                            <div class="product_title">
                                <p id="product_name">{{moonProduct[moonIndex].name}}</p>
                                <p class="flavor">
                                    口味:{{moonProduct[moonIndex].flavor}}
                                </p>
                            </div>
                            <div class="product_content">
                                <p>酒精濃度:{{moonProduct[moonIndex].abv}}</p>
                                <p>原料:</p>
                                <p>{{moonProduct[moonIndex].material}}</p>
                                <div class="product_content_card" id="product_content_card">
                                    <p>{{moonProduct[moonIndex].info}}</p>
                                </div>
                                <p>NT:{{moonProduct[moonIndex].price}}</p>
                            </div>
                            <div id="classic_btn">查看圖片
                            </div>
                        </div>
                        <div class="product_picture">
                            <img :src="moonProduct[moonIndex].img" alt="">
                        </div>
                    </div>

                </div>
            </div>

            <!-- Product -->
            <div class="page" id="product">
                <div class="container">
                    <div class="page_title">
                        <hr>
                        <div class="title_box">
                            <h1 class="title">產品介紹</h1>
                            <h3 class="subtitle">Other Products</h3>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="carousel_btn prev" @click='changeClassicIndex(-1)'>
                        <img src="images/prev.png" alt="">
                    </div>
                    <div class="product_card">
                        <div class="product_card_top">
                            <h2>{{classic[classicIndex].type}}</h2>
                            <div class="card_top_right">
                                <div class="line"></div>
                                <h2>{{classic[classicIndex].num}}</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card_content_left">
                                <h2>{{classic[classicIndex].name}}</h2>
                                <p class="flavor">口味:{{classic[classicIndex].flavor}}</p>
                                <p>酒精濃度:{{classic[classicIndex].abv}}</p>
                                <p>原料: <br />
                                    {{classic[classicIndex].material}}
                                </p>
                                <p id="product_price">NT:{{classic[classicIndex].price}}</p>
                            </div>
                            <div class="product_img">
                                <img :src='classic[classicIndex].img' alt="">
                            </div>
                            <div class="card_content_right">
                                <p>{{classic[classicIndex].info}}</p>
                            </div>
                            <div class="card_content_intro">
                                <h3>產品介紹</h3>
                                <p>{{classic[classicIndex].info}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="carousel_btn next" @click='changeClassicIndex(1)'>
                        <img src="images/next.png" alt="">
                    </div>
                </div>
            </div>

            <!-- Shop-->
            <div class="page" id="shop">
                <div class="container">
                    <div class="page_title">
                        <hr>
                        <div class="title_box">
                            <h1 class="title">尋找水月</h1>
                            <h3 class="subtitle">Shop List</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 shop_map">
                            <div class="shop_link" id="shop_taipei" @click="changeStoreIndex(0)">
                                <p>台北微風店</p>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">
                                    <path d="M10 17L0.473722 0.499998L19.5263 0.5L10 17Z" fill="#E5D283" />
                                </svg>
                            </div>
                            <div class="shop_link" id="shop_taichung" @click="changeStoreIndex(1)">
                                <p>台中新光店</p>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">
                                    <path d="M10 17L0.473722 0.499998L19.5263 0.5L10 17Z" fill="#E5D283" />
                                </svg>
                            </div>
                            <div class="shop_link" id="shop_sunmoon" @click="changeStoreIndex(2)">
                                <p>日月潭總店</p>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">
                                    <path d="M10 17L0.473722 0.499998L19.5263 0.5L10 17Z" fill="#E5D283" />
                                </svg>
                            </div>
                            <div class="shop_link" id="shop_kaohsiung" @click="changeStoreIndex(3)">
                                <p>高雄巨蛋店</p>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none">
                                    <path d="M10 17L0.473722 0.499998L19.5263 0.5L10 17Z" fill="#E5D283" />
                                </svg>
                            </div>
                        </div>
                        <div class="col-lg-6 shop_content">
                            <h2 id="shop_name">{{store[storeIndex].name}}</h2>
                            <p id="shop_add">地址:{{store[storeIndex].address}}</p>
                            <p id="shop_phone">電話:{{store[storeIndex].phone}}</p>
                            <div class="google_map">
                                <iframe
                                    :src="store[storeIndex].mapLink"
                                    width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade">
                                </iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <footer>
                <h2>禁止酒駕 </h2>
                <img src="images/禁止酒駕警示圖.png" alt="">
                <h2>未滿18歲禁止飲酒</h2>
            </footer>
        </section>
    </div>
</body>
<script src="vendor/jquery/jquery-3.5.1.min.js"></script>
<script src="vendor/OwlCarousel2-2.3.4/owl.carousel.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.js'></script>
<script>
    let vm= new Vue({
        el:"#app",
        data:{
            loading:true,
            news:[],
            classic:[],
            classicIndex:0,
            moonProduct:[],
            moonIndex:0,
            store:[],
            storeIndex:0,
            class:'',
        },

        //----------------------------
        mounted() {
            $(window).scroll(this.handleScroll);

            Promise.all([
            axios.get('http://localhost:8888/news'),
            axios.get('http://localhost:8888/classicProduct'),
            axios.get('http://localhost:8888/moonProduct'),
            axios.get('http://localhost:8888/store')
            ]).then(([newsRes, classicRes, moonProductRes, storeRes]) => {
                this.news = newsRes.data;
                this.classic = classicRes.data;
                this.moonProduct = moonProductRes.data;
                this.store = storeRes.data;
                this.loading = false; 
            }).catch((error) => {
                console.log(error);
            });
        },

        //----------------------------
        updated() {
            this.initOwlCarousel();
        },

        //----------------------------
        methods:{
            handleScroll() {
                let scrolledPx = $(window).scrollTop();
                if (scrolledPx > 200) {
                    $('.navbar').addClass('show_nav');
                } else {
                    $('.navbar').removeClass('show_nav');
                }
            },
            initOwlCarousel() {
                $('#news .owl-carousel').owlCarousel({
                    loop: true,
                    autoWidth: true,
                    items: 1,
                    margin: 10,
                    autoplay: true,
                    autoplayTimeout: 3000,
                    autoplayHoverPause: true,
                });
            },
            warn() {
                $('.warn_bg').hide();
                $('.warn').hide();
            },
            changeClassicIndex(change) {
                this.classicIndex += change;
                if(this.classicIndex< 0){
                    this.classicIndex = this.classic.length -1;
                }else if(this.classicIndex > this.classic.length -1){
                    this.classicIndex = 0;
                }
            },
            changeMoonIndex(change) {
                this.moonIndex = change;
                this.class = '.moon_pic'+(change+1);
                // console.log(this.class);
                $('.moon_pic').removeClass('active');
                $(this.class).addClass('active');
            },
            changeStoreIndex(change) {
                this.storeIndex = change;
            }
        }
    
    })


</script>
</html>